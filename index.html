<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            font-family: sans-serif;
            padding: 20px;
            margin: 0;
            background: linear-gradient(135deg, #89f7fe, #66a6ff);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        h2 {
            color: #333;
            margin-bottom: 20px;
        }
        #wordList {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 12px;
            width: 100%;
            max-width: 500px;
        }
        .word {
            background: white;
            border-radius: 12px;
            padding: 10px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            user-select: none;
        }
        .word:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .word input {
            display: none;
        }
        .word.active {
            background: #66a6ff;
            color: white;
            font-weight: bold;
        }
        button {
            margin-top: 25px;
            padding: 12px 24px;
            font-size: 16px;
            border: none;
            border-radius: 12px;
            background: #4cafef;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.2s, transform 0.1s;
        }
        button:hover {
            background: #3a90d6;
        }
        button:active {
            transform: scale(0.95);
        }
    </style>
</head>
<body>
    <h2>Отметьте слова, которые вы знаете:</h2>
    <form id="wordForm">
        <div id="wordList"></div>
        <button type="submit">Завершить тест</button>
    </form>
    <script>
        const words = {
            1: ["have", "with", "know", "all", "like", "think", "yes", "go", "now", "see", "look", "very", "want", "time", "more", "thing", "people", "him", "other", "year", "put", "down"],
            2: ["here", "after", "call", "next", "pay", "enough", "hope", "close", "tomorrow", "box", "hair", "clean", "corner", "skill", "twice", "flow", "clever", "beach", "bury", "hint", "shave", "bat", "clap", "grumble", "wag"],
            3: ["streamline", "stubble", "shrivel", "pastiche", "discomfit", "sully", "soothsayer", "sedulous", "vibrissae", "uxoricide"]
        };

        const allWords = Object.values(words).flat();
        allWords.sort(() => Math.random() - 0.5);

        const list = document.getElementById("wordList");
        allWords.forEach(word => {
            const div = document.createElement("label");
            div.className = "word";
            div.innerHTML = `<input type="checkbox" value="${word}"> ${word}`;
            div.onclick = (e) => {
                const cb = div.querySelector("input");
                cb.checked = !cb.checked;
                div.classList.toggle("active", cb.checked);
            };
            list.appendChild(div);
        });

        document.getElementById("wordForm").onsubmit = (e) => {
            e.preventDefault();
            const selected = Array.from(
                document.querySelectorAll("input[type=checkbox]:checked")
            ).map(cb => cb.value);
            Telegram.WebApp.sendData(JSON.stringify(selected));
            Telegram.WebApp.close();
        };

        Telegram.WebApp.ready();
    </script>
</body>
</html>
